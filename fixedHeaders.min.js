(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(b.fixedHeaders=a())}(this,(function(){var a=["","-o-","-webkit-","-moz-","-ms-"];var g="js-is-fixyHeader";var d="js-is-fixedHeader";var h=[];var e=[];function f(j,k){this.el=j;this.scrollTarget=k&&k.scrollTarget||window;this.fixedHeaderOffset=k&&k.fixedHeaderOffset||0}f.prototype.manageFixing=function c(){var l=this.el;var r=this.scrollTarget;var m=this.fixedHeaderOffset;var j=l.cloneNode(true);var v=j.style;var y=j.classList;var o=l.parentNode;var q=l.nextSibling.lastChild.offsetHeight||0;var s=l.getBoundingClientRect().top-m;var n=s+o.offsetHeight-l.offsetHeight-q;var u=o.getElementsByClassName("cloned");function x(){var B=window.innerWidth;var A=l.offsetWidth;if(B>l.scrollWidth){var z=r.scrollY;if(z<s){if(y.contains(g)){y.remove(g);o.removeChild(j);v.position=""}}else{if(z>s&&z<n){if(!y.contains(g)){y.add(g)}if(y.contains(d)){y.remove(d);v.bottom="";v.width=""}if(y.contains(g)){o.appendChild(j);y.add("cloned");v.position="fixed";v.top=m+"px";v.width=A+"px"}}else{if(z>n&&!y.contains(d)){y.remove(g);y.add(d);v.position="absolute";v.top="";v.bottom=q+"px"}}}}}var k=void 0;function w(){if(k){return}k=true;x();window.setTimeout(function(){k=false},0)}function p(){return r.requestAnimationFrame(w)}function t(){window.removeEventListener("resize",x);window.removeEventListener("scroll",p)}window.addEventListener("resize",x);r.addEventListener("scroll",p)};function b(n,p){var l=typeof n==="string"?document.querySelectorAll(n):n;if(!("length" in l)){l=[l]}var j=void 0;for(var k=0;k<l.length;k+=1){var m=l[k];if(h.indexOf(m)===-1){h.push(m);j=new f(m,p);e.push(j);j.manageFixing()}}}function i(r){var o=typeof r==="string"?document.querySelectorAll(r):r;if(!("length" in o)){o=[o]}var k=void 0;for(var n=0;n<o.length;n+=1){var p=o[n];var m;var q;var l;for(l=0;l<h.length;l++){if(p===h[l]){m=h[l];h.splice(l,1);break}}for(l=0;l<e.length;l++){if(p===e[l].el){q=e[l];q.splice(l,1);break}}if(q){q.destroy()}}}return{create:b,destroy:i}})));
