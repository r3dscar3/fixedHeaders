(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(b.fixedHeaders=a())}(this,(function(){var b=["","-o-","-webkit-","-moz-","-ms-"];var e="js-is-fixedHeader";var a="js-is-fixedHeader";function d(f,g){this.el=f;this.scrollTarget=g&&g.scrollTarget||window;this.fixedHeaderOffset=g&&g.fixedHeaderOffset||0}d.prototype.manageFixing=function c(){var h=this.el;var m=this.scrollTarget;var i=this.fixedHeaderOffset;var f=h.cloneNode(true);var o=document.getElementsByClassName("cloned");var p=f.style;var s=f.classList;var k=h.parentNode;var l=h.nextSibling.lastChild.offsetHeight||0;var n=h.getBoundingClientRect().top-i;var j=n+k.offsetHeight-h.offsetHeight-l;function r(){var w=window.innerWidth;var v=h.offsetWidth;if(w>h.scrollWidth){var t=m.scrollY;if(t<n){if(s.contains(e)){s.remove(e);k.removeChild(k.lastChild);p.position=""}}else{if(t>n&&t<j){if(!s.contains(e)){s.add(e)}if(s.contains(a)){s.remove(a);p.bottom="";p.width=""}if(s.contains(e)){k.appendChild(f);s.add("cloned");p.position="fixed";p.top=i+"px";p.width=v+"px"}}else{if(t>j&&!s.contains(a)){s.remove(e);s.add(a);p.position="absolute";p.top="";p.bottom=l+"px"}}}}else{if(o.length>0){for(var u=o.length-1;u>=0;--u){o[u].parentElement.removeChild(o[u])}}}}var g=void 0;function q(){if(g){return}g=true;r();window.setTimeout(function(){g=false},0)}window.addEventListener("resize",function(){r()});m.addEventListener("scroll",function(){return m.requestAnimationFrame(q)})};function d(k,l){var h=typeof k==="string"?document.querySelectorAll(k):k;if(!("length" in h)){h=[h]}var f=void 0;for(var g=0;g<h.length;g+=1){var j=h[g];f=new d(j,l);f.manageFixing()}}return d})));
